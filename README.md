# WhisperX Stereo Dialogs Transcription Tool

Инструмент для транскрибации диалогов с использованием WhisperX..

## Особенности

- **Обработка стереоканалов**: Автоматически разделяет стерео на левый и правый каналы
- **Диаризация**: Определяет двух говорящих (speaker1, speaker2)
- **Аудиопредобработка**: Применяет фильтры (highpass, lowpass, loudnorm)
- **Гибкий вывод**: Текст с временными метками и/или именами говорящих
- **Пакетная обработка**: Поддержка обработки всех файлов в директории
- **Экспорт результатов**: Сохранение в Markdown с текстом и JSON

## Установка

```bash
# uv
pip install -r requirements.txt
```

Также требуется установленный **FFmpeg** для обработки аудио.

## Использование

### Основная команда

```bash
python main.py -p /path/to/audio/file.wav
```

### Опции командной строки

- `-p, --path`: Путь к аудиофайлу или директории *(обязательно)*
- `-v, --verbose`: Вывод результатов в консоль
- `-tt, --text-timestamp`: Включить временные метки в тексте
- `-ts, --test-speaker`: Включить имена говорящих в тексте  
- `-tn, --text-newline`: Добавить переносы строк между сегментами

### Примеры

```bash
# Простая транскрибация
python transcribe.py -p audio.wav

# С временными метками и именами говорящих
python transcribe.py -p audio.wav -tt -ts -v

# Обработка всех файлов в директории
python transcribe.py -p /path/to/audio/folder/
```

## Структура выходных файлов

Результаты сохраняются в директории `output/` в формате Markdown:

```
output/
├── 2025-09-25_14-35-22.md
└── 2025-09-25_15-20-10.md
```